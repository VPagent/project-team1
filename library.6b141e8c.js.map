{"mappings":"gfACA,IAAMA,EAAUC,SAASC,cAAc,sBACjCC,EAAaF,SAASC,cAAc,eACpCE,EAAWH,SAASC,cAAc,aAExCF,EAAQK,iBAAiB,SAEzB,SAAoBC,GAChB,GAA6B,WAA1BA,EAAMC,OAAOC,SACZ,OAEJF,EAAMC,OAAOE,UAAUC,IAAI,gBACxBJ,EAAMC,OAAOE,UAAUE,SAAS,eAC/BP,EAASK,UAAUG,OAAO,gBAE3BN,EAAMC,OAAOE,UAAUE,SAAS,aAC/BR,EAAWM,UAAUG,OAAO,mBChBpC,IAAAC,EAAAC,EAAA,SAGMC,EAAqBd,SAASC,cAAc,yBAC5Cc,EAAmBf,SAASC,cAAc,sBAE5Ce,EAAU,UAERC,EAAaC,aAAaC,QAAQH,GAClCI,EAAcC,KAAKC,MAAML,GA4BxB,SAASM,EAAoBC,GAClCC,QAAQC,IAAIF,GACZ,IAAMG,EAASH,EACdI,KACC,SAAAC,G,IACEC,EAAKD,EAALC,MACEC,EAAIF,EAAJE,KACAC,EAAEH,EAAFG,GACAC,EAAWJ,EAAXI,YACAC,EAAYL,EAAZK,aACAC,EAAYN,EAAZM,aACAC,EAASP,EAATO,UAGIC,EAAiB,GAOrB,OALEA,EADEJ,EACe,kCAAoCA,EAGrD,qFAEK,sCAEiCK,OAFKN,EAAG,yGAGzCM,OADiCD,EAAe,oBAItBC,OAH1BR,GAASC,EAAK,6IAMnBO,OAH+BP,GAAQD,EAAM,6GAM7CQ,QAHA,EAAA1B,EAAA2B,iBAAgBH,IAAc,UAAU,sEAM1BE,OAHdH,EAAeA,EAAaK,MAAM,EAAG,GAAK,UAC7B,yEAGAF,OADCJ,GAAgB,UACjB,qGAMFO,KAAK,IAGN3B,EAAmB4B,mBAAmB,YAAaf,GAzEvEb,EAAmB6B,UAAY,GAC/BpB,EAAoBH,GAEpBL,EAAiBX,iBAAiB,SAClC,SAAqBwC,GACnB,GAA2B,WAAxBA,EAAItC,OAAOC,SACV,OAEJ,GAAIqC,EAAItC,OAAOE,UAAUE,SAAS,cAAe,CAC/CM,EAAU,UACV,IAAM6B,EAAa3B,aAAaC,QAAQH,GAClC8B,EAAczB,KAAKC,MAAMuB,GAC/B/B,EAAmB6B,UAAY,GAC9BpB,EAAoBuB,GAEvB,GAAIF,EAAItC,OAAOE,UAAUE,SAAS,YAAa,CAC7CM,EAAU,QACTS,QAAQC,IAAIV,GACZ,IAAM+B,EAAa7B,aAAaC,QAAQH,GACnCgC,EAAc3B,KAAKC,MAAMyB,GAC/BjC,EAAmB6B,UAAY,GAC/BpB,EAAoByB,O","sources":["src/js/header/library-header.js","src/js/templates/renderMarkupLibrary.js"],"sourcesContent":["\nconst btnList = document.querySelector(\".header-buttonlist\")\nconst watchedBtn = document.querySelector(\".js-watched\")\nconst queueBtn = document.querySelector(\".js-queue\")\n\nbtnList.addEventListener(\"click\", onBtnClick)\n\nfunction onBtnClick(event){\n    if(event.target.nodeName !== \"BUTTON\"){\n        return\n    }\n    event.target.classList.add(\"current--btn\")\n    if(event.target.classList.contains(\"js-watched\")){\n        queueBtn.classList.remove(\"current--btn\")\n    }\n    if(event.target.classList.contains(\"js-queue\")){\n        watchedBtn.classList.remove(\"current--btn\")\n    }\n}\nexport { onBtnClick }\n\n","import { matchGenresById } from '../findGenres/findGenres';\n// import { pagination } from '../pagination/pagination';\n\nconst myLibraryContainer = document.querySelector('.film-myLibrary__list');\nconst headerButtonlist = document.querySelector('.header-buttonlist');\n\nlet filmKey = 'Watched';\n\nconst savedFilms = localStorage.getItem(filmKey);\nconst parsedFilms = JSON.parse(savedFilms);\nmyLibraryContainer.innerHTML = '';\nrenderMarkupLibrary(parsedFilms)\n\nheaderButtonlist.addEventListener('click', getFilmsKey);\nfunction getFilmsKey(evt) {\n  if(evt.target.nodeName !== \"BUTTON\"){\n      return\n    }\n  if (evt.target.classList.contains('js-watched')) {\n    filmKey = 'Watched'\n    const savedFilms = localStorage.getItem(filmKey);\n    const parsedFilms = JSON.parse(savedFilms);\n    myLibraryContainer.innerHTML = '';\n     renderMarkupLibrary(parsedFilms)\n  }\n  if (evt.target.classList.contains('js-queue')) {\n    filmKey = 'Queue'\n     console.log(filmKey);\n     const savedFilms = localStorage.getItem(filmKey);\n    const parsedFilms = JSON.parse(savedFilms);\n    myLibraryContainer.innerHTML = '';\n    renderMarkupLibrary(parsedFilms);\n  }\n}\n\n// console.log(parsedFilms); // settings object\n\nexport function renderMarkupLibrary(parsedFilms) {\n  console.log(parsedFilms);\n  const markup = parsedFilms\n  .map(\n    ({\n      title,\n        name,\n        id,\n        poster_path,\n        vote_average,\n        release_date,\n        genre_ids,\n        \n      }) => {\n        let POSTER_IMG_URL = '';\n        if (poster_path) {\n          POSTER_IMG_URL = 'https://image.tmdb.org/t/p/w500' + poster_path;\n        } else {\n          POSTER_IMG_URL =\n          'https://img.freepik.com/free-vector/glitch-error-404-page_23-2148105404.jpg?w=1000';\n        }\n        return `<li class=\"film-gallery__item\" id=\"${id}\">\n        <div class=\"film-gallery__image-wrapper\">\n        <img class=\"film-gallery__image\" src=\"${POSTER_IMG_URL}\"\n        alt=\"${title || name}\" width =\"394\" height =\"336\"/>\n        </div>\n        <div class=\"film-gallery__info-wrapper\">\n        <h3 class=\"film-gallery__name\">${name || title}</h3>\n        <p class=\"film-gallery__info\">\n        <span class=\"film-gallery__info-genres\">\n        ${matchGenresById(genre_ids) || 'No info'}</span>\n        |\n        <span class=\"film-gallery__info-year\">${\n          release_date ? release_date.slice(0, 4) : 'No info'\n                      }</span>\n                      <span class=\"film-gallery__info-rang\">${\n                        vote_average || 'No info'\n                      }</span>\n                      </p>\n                      </div>\n                      </li>`;\n                    }\n                    )\n                    .join('');\n                    // pagination(data.page, data.total_pages);\n                    // return markup;\n                    myLibraryContainer.insertAdjacentHTML('beforeend', markup);\n                  }\n                  \n                  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["$1efa4ff0918d4798$var$btnList","document","querySelector","$1efa4ff0918d4798$var$watchedBtn","$1efa4ff0918d4798$var$queueBtn","addEventListener","event","target","nodeName","classList","add","contains","remove","$5m7Gj","parcelRequire","$732f8c5d49c8711b$var$myLibraryContainer","$732f8c5d49c8711b$var$headerButtonlist","$732f8c5d49c8711b$var$filmKey","$732f8c5d49c8711b$var$savedFilms","localStorage","getItem","$732f8c5d49c8711b$var$parsedFilms","JSON","parse","$732f8c5d49c8711b$export$ebd406d59fee41e7","parsedFilms3","console","log","markup","map","param","title","name","id","poster_path","vote_average","release_date","genre_ids","POSTER_IMG_URL","concat","matchGenresById","slice","join","insertAdjacentHTML","innerHTML","evt","savedFilms2","parsedFilms2","savedFilms1","parsedFilms1"],"version":3,"file":"library.6b141e8c.js.map"}