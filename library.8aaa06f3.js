var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequired7c6=o);const r=document.querySelector(".header-buttonlist"),n=document.querySelector(".js-watched"),s=document.querySelector(".js-queue");r.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;e.target.classList.add("current--btn"),e.target.classList.contains("js-watched")&&s.classList.remove("current--btn");e.target.classList.contains("js-queue")&&n.classList.remove("current--btn")}));var d=o("fQFWi");const l=document.querySelector(".film-myLibrary__list"),c=document.querySelector(".header-buttonlist");document.querySelector(".js-watched"),document.querySelector(".js-queue");const i=document.querySelector(".img-not-found");let u="Watched";const m=localStorage.getItem(u),g=JSON.parse(m);function f(e){if(!e)return void i.classList.add("open");const t=e.map((({title:e,name:t,id:a,poster_path:o,vote_average:r,release_date:n,genre_ids:s})=>{let l="";return l=o?"https://image.tmdb.org/t/p/w500"+o:"https://img.freepik.com/free-vector/glitch-error-404-page_23-2148105404.jpg?w=1000",`<li class="film-gallery__item" id="${a}">\n        <div class="film-gallery__image-wrapper">\n        <img class="film-gallery__image" src="${l}"\n        alt="${e||t}" width ="394" height ="336"/>\n        </div>\n        <div class="film-gallery__info-wrapper">\n        <h3 class="film-gallery__name">${t||e}</h3>\n        <p class="film-gallery__info">\n        <span class="film-gallery__info-genres">\n        ${(0,d.matchGenresById)(s)||"No info"}</span>\n        |\n        <span class="film-gallery__info-year">${n?n.slice(0,4):"No info"}</span>\n                      <span class="film-gallery__info-rang">${r||"No info"}</span>\n                      </p>\n                      </div>\n                      </li>`})).join("");l.insertAdjacentHTML("beforeend",t)}l.innerHTML="",f(g),c.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;if(e.target.classList.contains("js-watched")){u="Watched";const e=localStorage.getItem(u),t=JSON.parse(e);l.innerHTML="",f(t)}if(e.target.classList.contains("js-queue")){u="Queue";const e=localStorage.getItem(u),t=JSON.parse(e);l.innerHTML="",f(t)}})),o("cOgen");const S=document.querySelector(".themetoggle"),y=document.querySelector(".material-symbol");function L(){"dark"===localStorage.getItem("theme")?(document.querySelector("body").classList.remove("light"),document.querySelector("footer").classList.remove("footer-light"),document.querySelector("body").classList.add("dark"),document.querySelector("footer").classList.add("footer-dark"),document.querySelector("header").classList.add("heared-shaddow"),document.querySelector(".main-modal").classList.add("modal-dark"),y.textContent="dark_mode"):(document.querySelector("body").classList.remove("dark"),document.querySelector("footer").classList.remove("footer-dark"),document.querySelector("header").classList.remove("heared-shaddow"),document.querySelector(".main-modal").classList.remove("modal-dark"),document.querySelector("body").classList.add("light"),document.querySelector("footer").classList.add("footer-light"),y.textContent="wb_sunny")}S.addEventListener("click",(e=>{e.preventDefault(),"dark"===localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","dark"),L()})),L();var p=o("6yjRA");let h;const _=document.querySelector(".film-myLibrary__list"),v=document.querySelector("[data-main-modal]"),q=document.querySelector("[data-modal-main-close]"),b=document.querySelector(".main-modal__container"),w=document.querySelector("body");document.querySelector(".main-modal__backdrop");function I(e){"Escape"===e.code&&N()}function N(){v.classList.add("is-hidden"),w.classList.remove("overflow"),w.removeEventListener("keyup",I)}function k(e){e.target.classList.contains("main-modal__backdrop")&&N()}_.addEventListener("click",(function(e){if(!e.target.closest(".film-gallery__item"))return;v.classList.remove("is-hidden"),w.classList.add("overflow"),h=u;const{id:t}=e.target.closest(".film-gallery__item");let a=JSON.parse(localStorage.getItem(h)).find((e=>e.id.toString()===t));b.innerHTML=(0,p.renderMarkupModal)(a),w.addEventListener("keyup",I),q.addEventListener("click",N),document.addEventListener("click",k);let o=[],r=[],n=document.querySelector(".main-modal__buttons--watched");n.textContent="Remove in watched",n.classList.add("added");let s=document.querySelector(".main-modal__buttons--queue");s.textContent="Remove in queue",s.classList.add("added"),localStorage.getItem("Watched").includes(a.id)||(n.textContent="Add to watched",n.classList.remove("added"));localStorage.getItem("Queue").includes(a.id)||(s.textContent="Add to queue",s.classList.remove("added"));document.querySelector(".main-modal__buttons").addEventListener("click",(function(e){if("BUTTON"===e.target.nodeName){if(e.target.classList.contains("main-modal__buttons--watched")){if(localStorage.getItem("Watched")&&(o=JSON.parse(localStorage.getItem("Watched"))),e.target.classList.contains("added")){const e=o.findIndex((e=>e.id===a.id));return o.splice(e,1),localStorage.setItem("Watched",JSON.stringify(o)),n.textContent="Add to watched",n.classList.remove("added"),l.innerHTML="",void f(JSON.parse(localStorage.getItem(h)))}o.push(a),localStorage.setItem("Watched",JSON.stringify(o)),n.textContent="Remove in watched",n.classList.add("added"),l.innerHTML="",f(JSON.parse(localStorage.getItem(h)))}if(e.target.classList.contains("main-modal__buttons--queue")){if(localStorage.getItem("Queue")&&(r=JSON.parse(localStorage.getItem("Queue"))),e.target.classList.contains("added")){const e=r.findIndex((e=>e.id===a.id));return r.splice(e,1),localStorage.setItem("Queue",JSON.stringify(r)),s.textContent="Add to queue",s.classList.remove("added"),l.innerHTML="",void f(JSON.parse(localStorage.getItem(h)))}r.push(a),localStorage.setItem("Queue",JSON.stringify(r)),s.textContent="Remove in queue",s.classList.add("added"),l.innerHTML="",f(JSON.parse(localStorage.getItem(h)))}}}))}));
//# sourceMappingURL=library.8aaa06f3.js.map
