{"mappings":"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","sources":["src/js/header/library-header.js","src/js/pagination/paginationLibrary.js","src/js/templates/renderMarkupLibrary.js","src/js/mainModal/libraryModal.js"],"sourcesContent":["\nconst btnList = document.querySelector(\".header-buttonlist\")\nconst watchedBtn = document.querySelector(\".js-watched\")\nconst queueBtn = document.querySelector(\".js-queue\")\n\nbtnList.addEventListener(\"click\", onBtnClick)\n\nfunction onBtnClick(event){\n    if(event.target.nodeName !== \"BUTTON\"){\n        return\n    }\n    event.target.classList.add(\"current--btn\")\n    if(event.target.classList.contains(\"js-watched\")){\n        queueBtn.classList.remove(\"current--btn\")\n    }\n    if(event.target.classList.contains(\"js-queue\")){\n        watchedBtn.classList.remove(\"current--btn\")\n    }\n}\nexport { onBtnClick }\n\n","export { onClickEvt };\nexport { paginationLibrary };\n\nexport let a;\n\nconst paginationLibraryContainer = document.querySelector(\n  '.page__list-library'\n);\n\nfunction paginationLibrary(currentPage, allPages) {\n  console.log(currentPage);\n  let markup = '';\n  let beforeTwoPage = currentPage - 2;\n  let beforePage = currentPage - 1;\n  let afterPage = currentPage + 1;\n  let afterTwoPage = currentPage + 2;\n\n  globalCurrentPage = currentPage;\n  globalAllPages = allPages;\n\n  if (currentPage > 1) {\n    markup += `<li class=\"page__item\"><a href=\"#render\" class=\"page__arrow page__arrow--left\"></a></li>`;\n  }\n  if (currentPage > 1) {\n    markup += `<li class=\"page__item page__item--hidden\"><a href=\"#render\" class=\"page__figure page__figure--transform\">1</a></li>`;\n  }\n  if (currentPage > 4) {\n    markup += `<li class=\"page__item page__item--hidden\"><a class=\"page__dots\">...</a></li>`;\n  }\n  if (currentPage > 3) {\n    markup += `<li class=\"page__item\"><a href=\"#render\" class=\"page__figure page__figure--transform\">${beforeTwoPage}</a></li>`;\n  }\n  if (currentPage > 2) {\n    markup += `<li class=\"page__item\"><a href=\"#render\" class=\"page__figure page__figure--transform\">${beforePage}</a></li>`;\n  }\n  markup += `<li class=\"page__item page__item--is-active\"><a href=\"#render\" class=\"page__figure\">${currentPage}</a></li>`;\n\n  if (allPages - 1 > currentPage) {\n    markup += `<li class=\"page__item\"><a href=\"#render\" class=\"page__figure page__figure--transform\">${afterPage}</a></li>`;\n  }\n  if (allPages - 2 > currentPage) {\n    markup += `<li class=\"page__item\"><a href=\"#render\" class=\"page__figure page__figure--transform\">${afterTwoPage}</a></li>`;\n  }\n  if (allPages - 3 > currentPage) {\n    markup += `<li class=\"page__item page__item--hidden\"><a class=\"page__dots\">...</a></li>`;\n  }\n  if (allPages > currentPage) {\n    markup += `<li class=\"page__item page__item--hidden\"><a href=\"#render\" class=\"page__figure page__figure--transform\">${allPages}</a></li>`;\n    markup += `<li class=\"page__item arrow\"><a href=\"#render\" class=\"page__arrow page__arrow--right\"></a></li>`;\n  }\n\n  paginationLibraryContainer.innerHTML = markup;\n}\nfunction onClickEvt(event) {\n  if (event.target.nodeName !== 'A') {\n    return;\n  }\n  return event.target.textContent;\n  // const WATCHED_KEY = localStorage.getItem('Watched');\n  // const pages = JSON.parse(WATCHED_KEY);\n  // console.log(pages);\n  // if (event.target.nodeName !== 'A') {\n  //   return;\n  // }\n  // if (event.target.classList.contains('page__arrow--left')) {\n  //   getTrendData((globalCurrentPage -= 1)).then(data => {\n  //     localStorage.setItem(CURRENT_FILMS_KEY, JSON.stringify(data.results));\n  //     filmGallery.innerHTML = '';\n  //     filmGallery.insertAdjacentHTML('beforeend', renderMarkup(data));\n  //     hideSpinner();\n  //     pagination(data.page, data.total_pages);\n  //   });\n  //   return;\n  // }\n  // if (event.target.classList.contains('page__arrow--right')) {\n  //   if (valueFromInput) {\n  //     fetchMovieSearch(valueFromInput, (globalCurrentPage += 1)).then(data => {\n  //       localStorage.setItem(CURRENT_FILMS_KEY, JSON.stringify(data.results));\n  //       filmGallery.innerHTML = '';\n  //       filmGallery.insertAdjacentHTML('beforeend', renderMarkup(data));\n  //       hideSpinner();\n  //       pagination(data.page, data.total_pages);\n  //     });\n  //     return;\n  //   }\n  //   getTrendData((globalCurrentPage += 1)).then(data => {\n  //     localStorage.setItem(CURRENT_FILMS_KEY, JSON.stringify(data.results));\n  //     filmGallery.innerHTML = '';\n  //     filmGallery.insertAdjacentHTML('beforeend', renderMarkup(data));\n  //     hideSpinner();\n  //     pagination(data.page, data.total_pages);\n  //   });\n  //   return;\n  // }\n  // if (event.target.textContent === '...') {\n  //   return;\n  // }\n  // const page = event.target.textContent;\n\n  // if (valueFromInput) {\n  //   fetchMovieSearch(valueFromInput, page).then(data => {\n  //     console.log(data);\n  //     localStorage.setItem(CURRENT_FILMS_KEY, JSON.stringify(data.results));\n  //     filmGallery.innerHTML = '';\n  //     filmGallery.insertAdjacentHTML('beforeend', renderMarkup(data));\n  //     hideSpinner();\n  //     pagination(data.page, data.total_pages);\n  //   });\n  //   return;\n  // } else {\n  //   getTrendData(page).then(data => {\n  //     localStorage.setItem(CURRENT_FILMS_KEY, JSON.stringify(data.results));\n  //     filmGallery.innerHTML = '';\n  //     filmGallery.insertAdjacentHTML('beforeend', renderMarkup(data));\n  //     hideSpinner();\n  //     pagination(data.page, data.total_pages);\n  //   });\n  //   return;\n  // }\n}\n\n// paginationLibraryContainer.addEventListener('click', onClickEvt);\n","import { onClickEvt } from '../pagination/paginationLibrary';\nimport { matchGenresById } from '../findGenres/findGenres';\nimport { paginationLibrary } from '../pagination/paginationLibrary';\n\n\nexport const myLibraryContainer = document.querySelector('.film-myLibrary__list');\nconst headerButtonlist = document.querySelector('.header-buttonlist');\n// pasha\nexport const btnWatched = document.querySelector(\".js-watched\")\nexport const btnQueue = document.querySelector(\".js-queue\")\n// \n\nconst paginationLibraryContainer = document.querySelector(\n  '.page__list-library'\n);\n\nconst PER_PAGE = 6;\nlet currentPage = 1;\n\n\nlet arr = [];\n\nconst imgNotFound = document.querySelector('.img-not-found')\n\nexport let filmKey = 'Watched';\n\n\n\nconst savedFilms = localStorage.getItem(filmKey);\nconst parsedFilms = JSON.parse(savedFilms);\nmyLibraryContainer.innerHTML = '';\nrenderMarkupLibrary(parsedFilms);\n\n\n\nheaderButtonlist.addEventListener('click', getFilmsKey);\nfunction getFilmsKey(evt) {\n  if (evt.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  if (evt.target.classList.contains('js-watched')) {\n    filmKey = 'Watched';\n    const savedFilms = localStorage.getItem(filmKey);\n    const parsedFilms = JSON.parse(savedFilms);\n    myLibraryContainer.innerHTML = '';\n    renderMarkupLibrary(parsedFilms);\n    const totalPage = getTotalPages(parsedFilms);\n    paginationLibrary(currentPage, totalPage);\n    // paginationLibraryContainer.addEventListener('click', onClickEvt);\n    const startIdx = getIndex(currentPage, PER_PAGE);\n    const endIdx = startIdx + PER_PAGE - 1;\n    console.log(endIdx);\n    // console.log(startIdx);\n  }\n  if (evt.target.classList.contains('js-queue')) {\n    filmKey = 'Queue';\n    console.log(filmKey);\n    const savedFilms = localStorage.getItem(filmKey);\n    const parsedFilms = JSON.parse(savedFilms);\n    myLibraryContainer.innerHTML = '';\n    renderMarkupLibrary(parsedFilms);\n    const totalPage = getTotalPages(parsedFilms);\n    paginationLibrary(currentPage, totalPage);\n    // paginationLibraryContainer.addEventListener('click', onClickEvt);\n    const startIdx = getIndex(currentPage, PER_PAGE);\n    const endIdx = startIdx + PER_PAGE - 1;\n    console.log(endIdx);\n    // console.log(startIdx);\n  }\n}\n// if(filmKey === \"Watched\"){\n//   btnWatched.classList.add(\"current--btn\")\n//   btnQueue.classList.remove(\"current--btn\")\n// }\n// if(filmKey === \"Queue\"){\n//   btnQueue.classList.add(\"current--btn\")\n//   btnWatched.classList.remove(\"current--btn\")\n// }\n\n\npaginationLibraryContainer.addEventListener('click', onClickEvt);\n\nexport function renderMarkupLibrary(parsedFilms) {\nif (!parsedFilms) {\n  imgNotFound.classList.add('open');\n  return\n} \n  const markup = parsedFilms\n    .map(\n      ({\n        title,\n        name,\n        id,\n        poster_path,\n        vote_average,\n        release_date,\n        genre_ids,\n      }) => {\n        let POSTER_IMG_URL = '';\n        if (poster_path) {\n          POSTER_IMG_URL = 'https://image.tmdb.org/t/p/w500' + poster_path;\n        } else {\n          POSTER_IMG_URL =\n            'https://img.freepik.com/free-vector/glitch-error-404-page_23-2148105404.jpg?w=1000';\n        }\n        return `<li class=\"film-gallery__item\" id=\"${id}\">\n        <div class=\"film-gallery__image-wrapper\">\n        <img class=\"film-gallery__image\" src=\"${POSTER_IMG_URL}\"\n        alt=\"${title || name}\" width =\"394\" height =\"336\"/>\n        </div>\n        <div class=\"film-gallery__info-wrapper\">\n        <h3 class=\"film-gallery__name\">${name || title}</h3>\n        <p class=\"film-gallery__info\">\n        <span class=\"film-gallery__info-genres\">\n        ${matchGenresById(genre_ids) || 'No info'}</span>\n        |\n        <span class=\"film-gallery__info-year\">${\n          release_date ? release_date.slice(0, 4) : 'No info'\n        }</span>\n                      <span class=\"film-gallery__info-rang\">${\n                        vote_average || 'No info'\n                      }</span>\n                      </p>\n                      </div>\n                      </li>`;\n      }\n    )\n    .join('');\n  // return markup;\n  myLibraryContainer.insertAdjacentHTML('beforeend', markup);\n\n  let number = 0;\n  for (let i = 0; i < parsedFilms.length; i += 1) {\n    arr.push(parsedFilms[i]);\n    number += 1;\n    if (number === 5) {\n      return;\n    }\n  }\n\n  // paginationLibrary(allPages);\n}\n\n// console.log(arr);\n\nfunction getTotalPages(arr) {\n  return Math.ceil(arr.length / 6);\n}\n\nfunction getIndex(currentPage, perPage) {\n  return (currentPage - 1) * perPage;\n}\n\nfunction onClickEvt(event) {\n  if (event.target.nodeName !== 'A') {\n    return;\n  }\n  currentPage = event.target.textContent;\n}\n","import { renderMarkupModal } from \"./renderMarkupModal\"\nimport { filmKey, renderMarkupLibrary, myLibraryContainer, btnWatched, btnQueue } from \"../templates/renderMarkupLibrary\"\nlet CURRENT_STORAGE\nconst filmList = document.querySelector(\".film-myLibrary__list\")\n\nconst modal = document.querySelector('[data-main-modal]');\nconst closeModalBtn = document.querySelector('[data-modal-main-close]');\nconst modalContainer = document.querySelector('.main-modal__container');\nconst body = document.querySelector('body');\nconst backdrop = document.querySelector('.main-modal__backdrop');\n\nfilmList.addEventListener(\"click\", onFilmClick)\n\nfunction onFilmClick(event){\n    if(!event.target.closest(\".film-gallery__item\")){\n        return\n    }\n    modal.classList.remove('is-hidden');\n    body.classList.add('overflow');\n    CURRENT_STORAGE = filmKey\n    const  {id}  = event.target.closest(\".film-gallery__item\")\n    const allFilms  = JSON.parse(localStorage.getItem(CURRENT_STORAGE))\n\n    let currFilm = allFilms.find(elem => elem.id.toString() === id)\n    \n    modalContainer.innerHTML= renderMarkupModal(currFilm)\n\n    closeModalBtn.addEventListener('click', closeToggleModal);\n    document.addEventListener('click', clickOverlay);\n    let watchedObj = []\n    let queueObj = []\n    let watchedBtnL = document.querySelector(\".main-modal__buttons--watched\")\n    watchedBtnL.textContent = \"Remove in watched\"\n    watchedBtnL.classList.add(\"added\")\n\n    let queueBtnL = document.querySelector(\".main-modal__buttons--queue\")\n    queueBtnL.textContent = \"Remove in queue\"\n    queueBtnL.classList.add(\"added\")\n\n    if (!localStorage.getItem('Watched').includes(currFilm.id)) {\n      watchedBtnL.textContent = 'Add to watched';\n      watchedBtnL.classList.remove('added');\n    }\n    if (!localStorage.getItem('Queue').includes(currFilm.id)) {\n      queueBtnL.textContent = 'Add to queue';\n      queueBtnL.classList.remove('added');\n    }\n\n    const modalBtnList = document.querySelector(\".main-modal__buttons\")\n    modalBtnList.addEventListener(\"click\", onBtnClickInModalLib)\n    function onBtnClickInModalLib(event){\n      if(event.target.nodeName !== \"BUTTON\"){\n          return\n      }\n  \n      if(event.target.classList.contains(\"main-modal__buttons--watched\")){\n          if(localStorage.getItem(\"Watched\")){\n            watchedObj = JSON.parse(localStorage.getItem(\"Watched\"))\n          }\n\n          if(event.target.classList.contains(\"added\")){\n            const idx = watchedObj.findIndex(elem => elem.id === currFilm.id)\n            watchedObj.splice(idx, 1)\n            localStorage.setItem(\"Watched\", JSON.stringify(watchedObj))\n            watchedBtnL.textContent = \"Add to watched\"\n            watchedBtnL.classList.remove(\"added\")\n            myLibraryContainer.innerHTML=\"\"\n            renderMarkupLibrary( JSON.parse(localStorage.getItem(CURRENT_STORAGE)))\n            closeToggleModal()\n            return\n          }\n          watchedObj.push(currFilm)\n          localStorage.setItem(\"Watched\", JSON.stringify(watchedObj))\n          watchedBtnL.textContent = \"Remove in watched\"\n          watchedBtnL.classList.add(\"added\")\n      }\n  \n      if(event.target.classList.contains(\"main-modal__buttons--queue\")){\n          if(localStorage.getItem(\"Queue\")){\n            queueObj = JSON.parse(localStorage.getItem(\"Queue\"))\n          }\n  \n          if(event.target.classList.contains(\"added\")){\n            const idx = queueObj.findIndex(elem => elem.id === currFilm.id)\n            queueObj.splice(idx, 1)\n            localStorage.setItem(\"Queue\", JSON.stringify(queueObj))\n            queueBtnL.textContent = \"Add to queue\"\n            queueBtnL.classList.remove(\"added\")\n            myLibraryContainer.innerHTML=\"\"\n            renderMarkupLibrary( JSON.parse(localStorage.getItem(CURRENT_STORAGE)))\n            closeToggleModal()\n            return\n          }\n          queueObj.push(currFilm)\n          localStorage.setItem(\"Queue\", JSON.stringify(queueObj))\n          queueBtnL.textContent = \"Remove in queue\"\n          queueBtnL.classList.add(\"added\")\n      }\n  }\n\n}\n\n\nfunction esc(key) {\n    if (key.code === 'Escape') {\n      closeToggleModal();\n    }\n}\n  \nfunction closeToggleModal() {\n    modal.classList.add('is-hidden');\n    body.classList.remove('overflow');\n}\n  \nfunction clickOverlay(overLay) {\n    const isContain = overLay.target.classList.contains('main-modal__backdrop');\n    if (isContain) {\n      closeToggleModal();\n    }\n}\n\n\n"],"names":["$1efa4ff0918d4798$var$btnList","document","querySelector","$1efa4ff0918d4798$var$watchedBtn","$1efa4ff0918d4798$var$queueBtn","addEventListener","event","target","nodeName","classList","add","contains","remove","$f6112da2b04711df$var$paginationLibraryContainer","$f6112da2b04711df$export$656e0858e524ca1a","currentPage","allPages","console","log","markup","beforePage","afterPage","afterTwoPage","globalCurrentPage","globalAllPages","concat","innerHTML","$732f8c5d49c8711b$export$1daefcb9b7d48ae","$732f8c5d49c8711b$var$headerButtonlist","$732f8c5d49c8711b$var$paginationLibraryContainer","$732f8c5d49c8711b$var$currentPage","$732f8c5d49c8711b$var$arr","$732f8c5d49c8711b$var$imgNotFound","$732f8c5d49c8711b$export$63c86cadbd015884","$732f8c5d49c8711b$var$savedFilms","localStorage","getItem","$732f8c5d49c8711b$var$parsedFilms","JSON","parse","$732f8c5d49c8711b$export$ebd406d59fee41e7","parsedFilms3","map","param","title","name","id","poster_path","vote_average","release_date","genre_ids","POSTER_IMG_URL","$5m7Gj","matchGenresById","slice","join","insertAdjacentHTML","number","i","length","push","$732f8c5d49c8711b$var$getTotalPages","arr1","Math","ceil","$732f8c5d49c8711b$var$getIndex","currentPage1","perPage","evt","savedFilms2","parsedFilms2","totalPage","endIdx","savedFilms1","parsedFilms1","totalPage1","endIdx1","textContent","$2a2ce3fe0165a2e3$var$CURRENT_STORAGE","$9zkr1","parcelRequire","$2a2ce3fe0165a2e3$var$filmList","$2a2ce3fe0165a2e3$var$modal","$2a2ce3fe0165a2e3$var$closeModalBtn","$2a2ce3fe0165a2e3$var$modalContainer","$2a2ce3fe0165a2e3$var$body","$2a2ce3fe0165a2e3$var$closeToggleModal","$2a2ce3fe0165a2e3$var$clickOverlay","overLay","event1","closest","currFilm","find","elem","toString","renderMarkupModal","watchedObj","queueObj","watchedBtnL","queueBtnL","includes","idx","findIndex","splice","setItem","stringify","idx1"],"version":3,"file":"library.4dfd392c.js.map"}